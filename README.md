First off, appologies for the ugly coding - it works, but please feel free to add/edit to make it more elegant and functional.

The repository contains three main codes: The Arduino code for the RFID reader and LED, the Python code to save and interpret lap data, and the HTML code, for uploading data to a local web server.
Throughout the code, it has assumed the Arduino is using COM6 and operating at baud rate 9600.

Arduino Code:
The wiring used for the Arduino is as follows:
RFID:   SS=10, RST = 9, SCK = 13, MISO = 12, MOSI = 11. This is standard wiring as used in many of the MFRC522 Library.
Note - you must download the correct library into the Arduino IDE for the code to run.
The LED is a simple circuit: Pin 4 > LED > 220ohm res > grd

Python Code:
The python code saves raw data to csv, as well as processed lap data. The serial monitor in the Arduino IDE must be closed in order for the Python code to access the data over the COM port. For COM port errors, unplug then replug the arduino.
The graph generated by the python code should save in the same folder as the html code in order for the web server to access the graph. The name for the graph file should match across both python and html codes.
Every time new data is compliled and a new graph generated, the old file is overwritten.
Before running code, it is useful to ensure old csv files are removed from the folder as otherwise new data will be appended on the old files.

HTML Code:
The code is set to refresh every 5 sec, uploading the current graph.
The website can be shared over a local web server by running the following commands in the command line of the host PC:
ipconfig - returns ip adress of host device
python -m http.server
The webserver can then be accessed from other devices connected to the same wifi by typing the adress: "host ip":8000 into a search engine
The website can be accessed over the host PC without wifi by either directly opening the html code as a website, or putting the adress: localhost:8000


**COMMENTS FOLLOWING 2025 EVENT:**

Use Python RTC module to save timestamp to data so if Arduino needs to be reset, lap times can be calculated manually.
Get rid of the "time to beat" element of the graph. Instead, put a print statement in place for the lap time in sec each time tag is dibbed, and print array of fastest lap times per house.
Adjust tick spacing on graph, and include grid lines as hard to read when 30+ laps have been recorded. OR work out how to put the bar chart value on the graph. OR put in a print statement for the lap count list.
Spare tag for each house so that the graph keeps updating even if using spare tag.

**COMMENTS FOLLOWING 2026 EVENT:**

Updates made to the code for 2026 included incorporating RTC data into the print line and the csv files generated by the python code. This worked extremely well and reduced the workload and stress of the staff member keeping the manual log as it allowed lap times to be recorded after the competitor had come through the start line, and times to be checked if multiple competitors came through at the same time. Similarly, having the house related to the dibbed tag being printed worked well for the manual timer as it wasnâ€™t always clear on the start which house had just come through. 
We found it important to have a delay in the void loop section of the arduino code - last year the LED protocol introduced this, but the lack of LED this year meant no delay which then resulted in lots of 'double dibs'. I have since added a delay back into the arduino code, but this would be surplus to req if the LED protocol (or similar) was reintroduced. 
A new htlm code that can be shared through OneDrive rather than through a local host was developed for the event but not used.
Competitors are really bad at placing the tag on the reader - making it more obvious where they need to dib with bright paint etc would be useful. Potentially a demo video for competitors to watch prior to the event might also be good. 
From 2025, the LED light was too dim to be seen in the day - a brighter light, buzzer or screen to indicate the tag has been read would be useful.
Possible updates to make for 2027: script that prevents a tag being re-read if it has already been dibbed in the previous 60sec, separate tags for biking and running to distinguish between in order to get proper fastest lap

